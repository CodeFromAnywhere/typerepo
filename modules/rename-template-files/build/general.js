#!/usr/bin/env node
"use strict";var __awaiter=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(o,l){function n(e){try{s(r.next(e))}catch(e){l(e)}}function i(e){try{s(r.throw(e))}catch(e){l(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,i)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.renameTemplateFiles=exports.renameTemplateToNormalFile=exports.renameToTemplateFile=exports.isEqualArray=void 0;const fs_util_1=require("fs-util"),k_explore_1=require("k-explore"),one_by_one_1=require("one-by-one"),isEqualArray=(e,t)=>e.length===t.length&&e.every(((e,a)=>e===t[a]));exports.isEqualArray=isEqualArray;const templateExtension=".template",findTemplates=(e,t)=>__awaiter(void 0,void 0,void 0,(function*(){return(yield(0,k_explore_1.explore)({basePath:e,subExtension:["template"],searchLevel:"fileName",doNotExploreChildFolders:t})).map((e=>e.path))})),renameToTemplateFile=e=>{const t=e.lastIndexOf("."),a=-1===t?e.length:t;return`${e.substring(0,a)}.template${e.substring(a)}`};exports.renameToTemplateFile=renameToTemplateFile;const renameTemplateToNormalFile=e=>e.replace(".template","");exports.renameTemplateToNormalFile=renameTemplateToNormalFile;const renameTemplateFiles=({appDir:e})=>__awaiter(void 0,void 0,void 0,(function*(){var t,a;const r=(yield(t=e,__awaiter(void 0,void 0,void 0,(function*(){return(yield(0,k_explore_1.explore)({basePath:t,subExtension:["template"],searchLevel:"fileName",doNotExploreChildFolders:a})).map((e=>e.path))})))).map((e=>({oldPath:e,newPath:(0,exports.renameTemplateToNormalFile)(e)})));yield(0,one_by_one_1.oneByOne)(r,(e=>__awaiter(void 0,void 0,void 0,(function*(){return fs_util_1.fs.rename(e.oldPath,e.newPath)}))))}));exports.renameTemplateFiles=renameTemplateFiles;
//# sourceMappingURL=general.js.map