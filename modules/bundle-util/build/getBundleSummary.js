"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBundleSummary=void 0;var convert_case_1=require("convert-case"),get_path_1=require("get-path"),js_util_1=require("js-util"),fs_util_1=require("fs-util"),getBundleSummary=function(e){var n,t,r,i=(0,get_path_1.getRootPath)("operations"),u=i?fs_util_1.path.join(i,"niches"):void 0,a=(u&&(null===(n=e.createBundleConfig.foldersFromRepo)||void 0===n||n.map((function(n){return fs_util_1.path.join(u,(0,convert_case_1.kebabCase)(e.name),n)}))),e.createBundleConfig.bundles.map((function(e){return(0,js_util_1.makeArray)(e.appShellOperationNames,e.serverOperationName)})).flat().filter((0,js_util_1.onlyUnique2)())),o=(0,js_util_1.makeArray)(e.createBundleConfig.bundles.map((function(e){return e.uiOperationName})).filter(js_util_1.notEmpty)),l=e.createBundleConfig.bundles.map((function(e){var n;return(null===(n=e.operations)||void 0===n?void 0:n.filter((function(e){return"public"===e.privacy})).map((function(e){return e.operationName})))||[]})).flat(),c=e.createBundleConfig.bundles.map((function(e){var n;return(null===(n=e.operations)||void 0===n?void 0:n.filter((function(e){return"private"===e.privacy})).map((function(e){return e.operationName})))||[]})).flat();
// console.dir({ summary, bundleConfig }, { depth: 999 });
return{
// filesAndFoldersToInclude,
packageNames:(null===(t=e.createBundleConfig.dependencies)||void 0===t?void 0:t.filter((function(e){return"public"===e.privacy})).map((function(e){return e.operationName})).concat(o).concat(l).filter((0,js_util_1.onlyUnique2)()))||[],moduleNames:(null===(r=e.createBundleConfig.dependencies)||void 0===r?void 0:r.filter((function(e){return"private"===e.privacy})).map((function(e){return e.operationName})).concat(c).filter((0,js_util_1.onlyUnique2)()))||[],appNames:a}};exports.getBundleSummary=getBundleSummary;
//# sourceMappingURL=getBundleSummary.js.map