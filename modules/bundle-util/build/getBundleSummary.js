"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBundleSummary=void 0;var convert_case_1=require("convert-case"),get_path_1=require("get-path"),js_util_1=require("js-util"),fs_util_1=require("fs-util"),getBundleSummary=function(e){var t,n=(0,get_path_1.getRootPath)("operations"),r=n?fs_util_1.path.join(n,"niches"):void 0,i=(r&&(null===(t=e.createBundleConfig.foldersFromRepo)||void 0===t||t.map((function(t){return fs_util_1.path.join(r,(0,convert_case_1.kebabCase)(e.name),t)}))),e.createBundleConfig.bundles.map((function(e){return(0,js_util_1.makeArray)(e.appShellOperationNames,e.serverOperationName)})).flat().filter((0,js_util_1.onlyUnique2)())),a=(0,js_util_1.makeArray)(e.createBundleConfig.bundles.map((function(e){return e.uiOperationName})).filter(js_util_1.notEmpty)),u=e.createBundleConfig.bundles.map((function(e){var t;return(null===(t=e.operations)||void 0===t?void 0:t.filter((function(e){return"public"===e.privacy})).map((function(e){return e.operationName})))||[]})).flat(),o=e.createBundleConfig.bundles.map((function(e){var t;return(null===(t=e.operations)||void 0===t?void 0:t.filter((function(e){return"private"===e.privacy})).map((function(e){return e.operationName})))||[]})).flat();
// console.dir({ summary, bundleConfig }, { depth: 999 });
return{
// filesAndFoldersToInclude,
packageNames:e.createBundleConfig.dependencies.filter((function(e){return"public"===e.privacy})).map((function(e){return e.operationName})).concat(a).concat(u).filter((0,js_util_1.onlyUnique2)()),moduleNames:e.createBundleConfig.dependencies.filter((function(e){return"private"===e.privacy})).map((function(e){return e.operationName})).concat(o).filter((0,js_util_1.onlyUnique2)()),appNames:i}};exports.getBundleSummary=getBundleSummary;
//# sourceMappingURL=getBundleSummary.js.map