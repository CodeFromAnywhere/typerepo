"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.useAsset=void 0;var asset_functions_js_1=require("asset-functions-js"),server_api_url_1=require("server-api-url"),path_browserify_1=__importDefault(require("path-browserify")),useAssetInfo_1=require("./useAssetInfo"),useAsset=function(e,t,r){console.log({apiUrl:server_api_url_1.apiUrl});
/**
     * NB: `relativePath` is required
     */
var s=function(r){return(0,asset_functions_js_1.getReferencedAssetApiUrl)(server_api_url_1.apiUrl,t,e.relativePath,r)},a=function(e){return"markdown-assets/".concat(path_browserify_1.default.join(path_browserify_1.default.parse(t).dir,e))},i=e.absoluteUrl?e.absoluteUrl:e.blobPath?e.blobPath:r&&e.relativePath?a(e.relativePath):s(!1),o=!e.blobPath&&!!e.relativePath,l=r&&e.relativePath?a(e.relativePath):o?s(!0):// NB: other type is ugly when downloading. Also doesn't make sense much to want to download an asset after uploading
"other"!==e.type?e.blobPath:void 0,u=(0,asset_functions_js_1.getExtensionFromAsset)(e),n=(0,useAssetInfo_1.useAssetInfo)(i,e.originalFilename);return{rawText:(null==n?void 0:n.rawText)||null,type:e.type||(null==n?void 0:n.type),downloadUrl:l,src:i,extension:u}};exports.useAsset=useAsset;
//# sourceMappingURL=useAsset.js.map